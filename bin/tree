#!/usr/local/bin/coffee

tree = require '../src/tree'

opts = require 'nomnom'
  .script 'tree'
  .options
    path:
      position: 0
      help: "Directory paths to show"
      list: yes
    depth:
      abbr: "L"
      help: "Depth of directories to recurse"
    exclude:
      abbr: "I"
      help: "Exclude files matching this pattern"
    directoriesOnly:
      abbr: "d"
      flag: yes
      help: "Only list directories"
    allFiles:
      abbr: "a"
      flag: yes
      help: "List all files, including dot-files"
  .parse()

unless opts?.path?.length
  tree '.', opts
else for path in opts.path
  tree path, opts
